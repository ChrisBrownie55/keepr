(function(e){function t(t){for(var s,o,r=t[0],c=t[1],l=t[2],p=0,d=[];p<r.length;p++)o=r[p],n[o]&&d.push(n[o][0]),n[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],s=!0,r=1;r<a.length;r++){var c=a[r];0!==n[c]&&(s=!1)}s&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var s={},n={app:0},i=[];function o(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=s,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(a,s,function(t){return e[t]}.bind(null,s));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0eab":function(e,t,a){"use strict";var s=a("c314"),n=a.n(s);n.a},"13e7":function(e,t,a){"use strict";var s=a("2b84"),n=a.n(s);n.a},"18ca":function(e,t,a){"use strict";var s=a("5fe2"),n=a.n(s);n.a},"1ade":function(e,t,a){"use strict";var s=a("a42b"),n=a.n(s);n.a},"1fe2":function(e,t,a){"use strict";var s=a("6467"),n=a.n(s);n.a},2609:function(e,t,a){},2856:function(e,t,a){},2914:function(e,t,a){"use strict";var s=a("a866"),n=a.n(s);n.a},"2b84":function(e,t,a){},"41cb":function(e,t,a){"use strict";var s=a("2b0e"),n=a("8c4f"),i=a("c0d6"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page login"},[a("form",{staticClass:"login__form",on:{submit:function(t){t.preventDefault(),e.loginForm?e.loginUser(t):e.registerUser(t)}}},[e._m(0),a("transition",{attrs:{name:"max-height"}},[e.loginForm?e._e():a("base-input",{attrs:{required:"",type:"text",name:"name",label:"Name",placeholder:"Chris"},model:{value:e.creds.name,callback:function(t){e.$set(e.creds,"name",t)},expression:"creds.name"}})],1),a("base-input",{attrs:{required:"",type:"email",name:"email",label:"Email",placeholder:"example@example.com"},model:{value:e.creds.email,callback:function(t){e.$set(e.creds,"email",t)},expression:"creds.email"}}),a("base-input",{attrs:{required:"",type:"password",name:"password",label:"Password",placeholder:"**********"},model:{value:e.creds.password,callback:function(t){e.$set(e.creds,"password",t)},expression:"creds.password"}}),a("div",{staticClass:"actions"},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[e.loginForm?a("base-button",{attrs:{type:"submit"}},[e._v("Login")]):a("base-button",{attrs:{type:"submit"}},[e._v("Signup")])],1),a("flat-button",{attrs:{type:"button"},domProps:{textContent:e._s(e.loginForm?"or signup":"or login")},on:{click:function(t){e.loginForm=!e.loginForm}}})],1)],1)])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h2",{staticStyle:{"font-weight":"400","margin-bottom":"1rem"},attrs:{align:"center"}},[e._v("\n      Welcome to "),a("span",{staticStyle:{"font-weight":"bold",color:"var(--theme-primary)","text-decoration":"underline"}},[e._v("Keepr")])])}],c=a("2f62"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("base-button",e._g({staticClass:"flat-button"},e.$listeners),[e._t("default")],2)},u=[],p={name:"flat-button"},d=p,m=(a("0eab"),a("2877")),f=Object(m["a"])(d,l,u,!1,null,"7c85fb46",null);f.options.__file="FlatButton.vue";var h=f.exports,v={name:"Login",data(){return{loginForm:!0,creds:{email:"",password:"",name:""}}},methods:{...Object(c["b"])("auth",["login","register"]),registerUser(){this.register({email:this.creds.email,password:this.creds.password,name:this.creds.name})},loginUser(){this.login({email:this.creds.email,password:this.creds.password})}},components:{FlatButton:h}},b=v,g=(a("1fe2"),Object(m["a"])(b,o,r,!1,null,"df5e273a",null));g.options.__file="Login.vue";var _=g.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page home"},[e.initialLoad?a("h1",{staticClass:"page__title skeleton skeleton-color"}):a("h1",{staticClass:"page__title"},[e._v("Home")]),e.initialLoad?a("h5",{staticClass:"page__subtitle skeleton skeleton-color"}):a("h5",{staticClass:"page__subtitle"},[e._v("Check out everyone's keeps here ðŸ‘‡")]),a("base-input",{directives:[{name:"show",rawName:"v-show",value:!e.initialLoad,expression:"!initialLoad"}],staticClass:"search",attrs:{name:"search",placeholder:"ðŸ”Ž Search",debounce:500},on:{input:e.search}}),e.initialLoad?a("base-input-skeleton",{staticClass:"search"}):e._e(),a("section",{staticClass:"keeps"},[a("transition-group",{attrs:{name:"keep-list-item"}},[e._l(e.keeps,function(t){return e.initialLoad?e._e():a("keep-card",e._b({key:t.id,staticClass:"keep-list-item"},"keep-card",t,!1))}),e._l(10,function(t){return e.initialLoad?a("base-card-skeleton",{key:t}):e._e()})],2)],1),a("floating-action-button",{attrs:{icon:"add",title:"Create keep",to:{name:"new-keep"}}})],1)},y=[],w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("base-card",e._g({staticClass:"keep-card",on:{click:function(t){e.$router.push({name:"keep",params:{id:e.id}})}}},e.$listeners),[a("img",{attrs:{slot:"image",src:e.img},slot:"image"}),a("template",{slot:"content"},[a("p",{staticClass:"title"},[e._v(e._s(e.name))]),a("p",{staticClass:"paragraph"},[e._v(e._s(e._f("truncate")(e.description,50)))])]),a("template",{slot:"actions"},[e.inKeep?a("icon-button",{attrs:{title:"Remove from vault",icon:"remove"},on:{click:function(e){e.stopPropagation()}}}):a("icon-button",{attrs:{title:"Store in vault",icon:"add"},on:{click:function(t){t.stopPropagation(),e.openDialog()}}}),e.user.id?a("icon-button",{attrs:{title:"Delete",icon:"delete"},on:{click:function(t){t.stopPropagation(),e.deleteKeep(e.id)}}}):e._e()],1),a("transition",{attrs:{name:"fade"}},[e.dialogOpen?a("section",{ref:"dialog",staticClass:"dialog",on:{click:function(e){e.stopPropagation()}}},[a("form",{on:{submit:function(t){t.preventDefault(),e.addKeepToVault({vaultId:e.vaultId,keepId:e.id})}}},[a("h2",[e._v("Select a vault")]),e.vaults.length?a("select",{directives:[{name:"model",rawName:"v-model",value:e.vaultId,expression:"vaultId"}],attrs:{required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.vaultId=t.target.multiple?a:a[0]}}},e._l(e.vaults,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n            "+e._s(t.name)+"\n          ")])})):e._e(),e.vaults.length?a("base-button",{staticStyle:{"margin-top":"0.5rem"},attrs:{type:"submit"}},[e._v("Add to vault")]):a("p",[e._v("You need to create a vault first.")])],1)]):e._e()])],2)},$=[],K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("flat-button",e._g({staticClass:"icon-button"},e.$listeners),[a("base-icon",[e._v(e._s(e.icon))]),e._t("default")],2)},C=[],O={name:"icon-button",props:{icon:{type:String,required:!0}},components:{FlatButton:h}},j=O,x=(a("c02f"),Object(m["a"])(j,K,C,!1,null,"31afbd0a",null));x.options.__file="IconButton.vue";var S=x.exports,V={name:"keep-card",props:{id:{type:Number,required:!0},name:{type:String,required:!0},description:{type:String,required:!0},userId:{type:String,required:!0},img:{type:String,required:!0},views:{type:Number,required:!0},shares:{type:Number,required:!0},inKeep:{type:Boolean,default:!1}},data(){return{dialogOpen:!1,vaultId:""}},methods:{...Object(c["b"])("keeps",["addKeepToVault","deleteKeep"]),...Object(c["b"])("vaults",["getVaults"]),openDialog(e){document.body.click(),this.dialogOpen=!0},closeDialog(e){e.target!==this.$refs.dialog&&(this.dialogOpen=!1)}},computed:{...Object(c["c"])("vaults",["vaults"]),...Object(c["c"])("auth",["user"])},watch:{dialogOpen(e){e?document.body.addEventListener("click",this.closeDialog):document.body.removeEventListener("click",this.closeDialog)}},components:{IconButton:S}},E=V,I=(a("2914"),Object(m["a"])(E,w,$,!1,null,"206c2738",null));I.options.__file="KeepCard.vue";var L=I.exports,q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",e._g({staticClass:"floating-action-button"},e.listeners),[e._t("prepend"),e.icon?a("base-icon",[e._v(e._s(e.icon))]):e._e(),e._t("default")],2)},B=[],N={name:"floating-action-button",props:{icon:String,to:[Object,String]},computed:{listeners(){const e={...this.$listeners};if(this.$props.to){const t=this.$router;e["click"]=(()=>t.push(this.$props.to))}return e}}},D=N,P=(a("18ca"),Object(m["a"])(D,q,B,!1,null,"cdaff7d2",null));P.options.__file="FloatingActionButton.vue";var U=P.exports,F={name:"Home",methods:{...Object(c["b"])("keeps",["getKeeps","searchKeeps"]),...Object(c["b"])("vaults",["getVaults"]),search(e){e=e.trim(),e?this.searchKeeps(e):this.getKeeps()},init(){this.vaults.length||this.getVaults()}},computed:{...Object(c["c"])("keeps",["keeps","loading","initialLoad"]),...Object(c["c"])("vaults",["vaults"])},mounted(){this.keeps.length||this.getKeeps(),this.init()},watch:{"$store.state.auth.user.id"(){this.init()}},components:{KeepCard:L,FloatingActionButton:U}},A=F,M=(a("9a61"),Object(m["a"])(A,k,y,!1,null,"6abcef1e",null));M.options.__file="Home.vue";var R=M.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page dashboard"},[a("h1",{staticClass:"page__title"},[e._v("Dashboard")]),a("h1",[e._v("My Vaults")]),a("section",{staticClass:"vaults"},[e._l(e.vaults,function(t){return a("vault-card",e._b({key:t.id},"vault-card",t,!1))}),e.vaults.length?e._e():a("p",[e._v("You don't have any vaults. Try that button in the bottom right corner to make a new one.")])],2),a("h1",[e._v("My Keeps")]),a("section",{staticClass:"keeps"},[e._l(e.myKeeps,function(t){return a("keep-card",e._b({key:t.id},"keep-card",t,!1))}),e.myKeeps.length?e._e():a("p",[e._v("You don't have any keeps. You can add them from the home page.")])],2),a("floating-action-button",{attrs:{icon:"add",to:{name:"new-vault"},title:"New vault"}})],1)},z=[],Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("article",{staticClass:"vault-card",on:{click:function(t){e.$router.push({name:"vault",params:{id:e.id}})}}},[a("p",[e._v(e._s(e.name))]),a("section",{staticClass:"vault-keeps"},e._l(e.keeps.slice(0,5),function(e){return a("img",{key:e.id,attrs:{src:e.img}})}))])},H=[],J={name:"vault-card",props:{id:{type:Number,required:!0},name:{type:String,required:!0},description:{type:String,required:!0},keeps:{type:Array,required:!0}}},W=J,G=(a("c45d"),Object(m["a"])(W,Y,H,!1,null,"900b8172",null));G.options.__file="VaultCard.vue";var Q=G.exports,X={name:"Dashboard",methods:{...Object(c["b"])("vaults",["getVaults","createVault","deleteVault","editVault"]),...Object(c["b"])("keeps",["getMyKeeps","storeInVault"]),init(){this.vaults.length||this.getVaults(),this.myKeeps.length||this.getMyKeeps()}},computed:{...Object(c["c"])("vaults",["vaults"]),...Object(c["c"])("keeps",["myKeeps"])},watch:{"$store.state.auth.user.id"(){this.init()}},mounted(){this.init()},components:{VaultCard:Q,KeepCard:L,FloatingActionButton:U}},Z=X,ee=(a("b186"),Object(m["a"])(Z,T,z,!1,null,"664904b4",null));ee.options.__file="Dashboard.vue";var te=ee.exports,ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page new-keep"},[a("h1",{staticClass:"page__title"},[e._v("Create Keep")]),a("h5",{staticClass:"page__subtitle"},[e._v("Share your ideas ðŸ™‚")]),a("form",{ref:"form",staticClass:"new-keep__form",on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[a("h2",{staticStyle:{"font-weight":"400","margin-bottom":"1rem"},attrs:{align:"center"}},[e._v("New keep")]),a("base-input",{attrs:{autocomplete:"off",required:"",type:"text",label:"Name",placeholder:'Like "Burger pizza recipe"'},model:{value:e.keep.name,callback:function(t){e.$set(e.keep,"name",t)},expression:"keep.name"}}),a("base-input",{attrs:{autocomplete:"off",required:"",type:"text",label:"Description",placeholder:"A burger made of two pizzas and a ton of meat."},model:{value:e.keep.description,callback:function(t){e.$set(e.keep,"description",t)},expression:"keep.description"}}),a("base-input",{attrs:{autocomplete:"off",required:"",type:"url",label:"Image URL",placeholder:"https://example.com/example.jpg"},model:{value:e.keep.img,callback:function(t){e.$set(e.keep,"img",t)},expression:"keep.img"}}),a("div",{staticClass:"actions"},[a("base-button",{attrs:{type:"submit"}},[e._v("Create")]),a("base-button",{staticStyle:{border:"none","box-shadow":"none !important"},attrs:{type:"reset"}},[e._v("Reset")])],1)],1)])},se=[],ne={name:"New-keep",data(){return{keep:{name:"",description:"",img:"",isPrivate:!0}}},methods:{...Object(c["b"])("keeps",["createKeep"]),submit(){this.createKeep(this.keep),this.$refs.form.reset()}}},ie=ne,oe=(a("9ee3"),Object(m["a"])(ie,ae,se,!1,null,"9bc19f12",null));oe.options.__file="NewKeep.vue";var re=oe.exports,ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page keep"},[e.keep.id?[a("img",{attrs:{src:e.keep.img}}),e.editing?[a("p",[e._v(e._s(e.keep.name))]),a("p",[e._v(e._s(e.keep.description))])]:[a("base-input",{attrs:{value:e.modifiedKeep.name},model:{value:e.modifiedKeep.name,callback:function(t){e.$set(e.modifiedKeep,"name",t)},expression:"modifiedKeep.name"}}),a("base-input",{attrs:{value:e.modifiedKeep.description},model:{value:e.modifiedKeep.description,callback:function(t){e.$set(e.modifiedKeep,"description",t)},expression:"modifiedKeep.description"}})],a("p",[e._v("Views: "+e._s(e.keep.views))]),a("p",[e._v("Shares: "+e._s(e.keep.shares))]),a("base-button",{on:{click:e.share}},[e._v("Share")]),e.editing?[a("base-button",{key:"save",on:{click:e.saveEdits}},[e._v("Save")]),a("base-button",{key:"cancel",on:{click:e.cancelEdits}},[e._v("Cancel")])]:a("base-button",{key:"edit",on:{click:function(t){e.editing=!0}}},[e._v("Edit")]),e.$store.state.auth.user.id!==e.keep.userId||e.editing?e._e():a("base-button",{key:"delete",on:{click:function(t){e.deleteKeep(e.id)}}},[e._v("\n      Delete\n    ")])]:e._e()],2)},le=[],ue={name:"Keep",props:{id:{required:!0}},data(){return{keep:{},modifiedKeep:{},editing:!1}},methods:{...Object(c["b"])("keeps",["getKeep","shareKeep","deleteKeep","editKeep"]),async share(){window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(window.location.href)}`);const e=await this.shareKeep(this.$props.id);e&&(this.keep.shares=e)},async init(){this.keep=await this.getKeep(this.$props.id),this.modifiedKeep={...this.keep},this.keep.id||this.$router.push({name:"home"})},async saveEdits(){this.editing=!1;await this.editKeep(this.keep)},cancelEdits(){this.editing=!1,this.modifiedKeep={...this.keep}}},mounted(){this.init()},components:{KeepCard:L}},pe=ue,de=(a("6dc5"),Object(m["a"])(pe,ce,le,!1,null,"f539c780",null));de.options.__file="Keep.vue";var me=de.exports,fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page new-vault"},[a("h1",{staticClass:"page__title",staticStyle:{color:"black","background-color":"white"}},[e._v("Create Vault")]),a("h5",{staticClass:"page__subtitle",staticStyle:{color:"white","font-weight":"400"}},[e._v("Store your ideas ðŸ˜Ž")]),a("form",{ref:"form",staticClass:"new-vault__form",on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[a("h2",{staticStyle:{"font-weight":"400","margin-bottom":"1rem"},attrs:{align:"center"}},[e._v("New vault")]),a("base-input",{attrs:{required:"",label:"Name",placeholder:"Pretty room ideas"},model:{value:e.vault.name,callback:function(t){e.$set(e.vault,"name",t)},expression:"vault.name"}}),a("base-input",{attrs:{required:"",label:"Description",placeholder:"Lots of ideas for decorations for rooms and whatnot."},model:{value:e.vault.description,callback:function(t){e.$set(e.vault,"description",t)},expression:"vault.description"}}),a("div",{staticClass:"actions"},[a("base-button",{attrs:{type:"submit"}},[e._v("Submit")]),a("base-button",{attrs:{type:"reset"}},[e._v("Reset")])],1)],1)])},he=[],ve={name:"New-Vault",data(){return{vault:{name:"",description:""}}},methods:{...Object(c["b"])("vaults",["createVault"]),submit(){this.createVault(this.vault),this.$refs.form.reset()}}},be=ve,ge=(a("72ab"),Object(m["a"])(be,fe,he,!1,null,"661f827c",null));ge.options.__file="NewVault.vue";var _e=ge.exports,ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page vault"},[e.vault?[a("h1",{staticClass:"page__title"},[e._v(e._s(e.vault.name))]),a("p",{staticClass:"page__subtitle"},[e._v(e._s(e.vault.description))]),a("section",{staticClass:"keeps"},e._l(e.vault.keeps,function(t){return a("keep-card",e._b({key:t.id,attrs:{inVault:!0}},"keep-card",t,!1))}))]:e._e()],2)},ye=[],we={name:"Vault",props:{id:{required:!0}},data(){return{vault:void 0}},methods:{...Object(c["b"])("vaults",["getVaultById","fetchKeepsOnVault"]),async init(){this.vault=await this.getVaultById(this.$props.id),this.vault&&(this.vault.keeps=[],this.vault.keeps=await this.fetchKeepsOnVault(this.$props.id))}},watch:{"$store.state.auth.user.id"(){this.init()}},mounted(){this.init()},components:{KeepCard:L}},$e=we,Ke=(a("13e7"),Object(m["a"])($e,ke,ye,!1,null,"4f2f9cfd",null));Ke.options.__file="Vault.vue";var Ce=Ke.exports;s["a"].use(n["a"]);const Oe=new n["a"]({routes:[{path:"/",name:"home",component:R},{path:"/login",name:"login",component:_},{path:"/dashboard",name:"dashboard",component:te,meta:{requiresAuth:!0}},{path:"/new-keep",name:"new-keep",component:re,meta:{requiresAuth:!0}},{path:"/keep/:id",name:"keep",component:me,props:!0},{path:"/new-vault",name:"new-vault",component:_e,meta:{requiresAuth:!0}},{path:"/vault/:id",name:"vault",component:Ce,props:!0,meta:{requiresAuth:!0}}]});Oe.beforeEach((e,t,a)=>{i["a"].state.auth.user.id||i["a"].dispatch("auth/authenticate").then(()=>{e.matched.some(e=>e.meta.requiresAuth)&&(i["a"].state.auth.user.id||Oe.push({path:"/login",query:{redirect:e.fullPath}}))}),a()});t["a"]=Oe},"44a9":function(e,t,a){"use strict";var s=a("efbf"),n=a.n(s);n.a},"4d98":function(e,t,a){},5126:function(e,t,a){},"51f0":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("nav",{attrs:{id:"main-nav"}},e._l(e.tabs,function(t,s){return a("base-icon",{key:s,class:{active:t.routes.includes(e.$router.currentRoute.name)},on:{click:function(a){e.$router.push({name:e.$store.state.auth.user.id?t.routes[t.routes.length-1]:t.routes[0]})}}},[e._v("\n      "+e._s(t.icon)+"\n    ")])})),a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1)},i=[],o={data(){return{tabs:[{routes:["login","account"],icon:"person"},{routes:["home"],icon:"home"},{routes:["dashboard"],icon:"dashboard"}]}}},r=o,c=(a("5c0b"),a("2877")),l=Object(c["a"])(r,n,i,!1,null,null,null);l.options.__file="App.vue";var u=l.exports,p=a("c0d6"),d=a("41cb");s["a"].config.productionTip=!1;const m=a("ef13");m.keys().forEach(e=>{const t=m(e),a=e.replace(/^\.\/(.*)\.\w+$/,"$1");s["a"].component(a,t.default||t)}),s["a"].filter("truncate",(e,t)=>e.length>t?e.slice(0,t).trim()+"...":e),new s["a"]({router:d["a"],store:p["a"],render:e=>e(u)}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var s=a("2856"),n=a.n(s);n.a},"5fe2":function(e,t,a){},6211:function(e,t,a){"use strict";a.r(t);const s=a("971c"),n={};s.keys().forEach(e=>{if("./index.js"===e)return;const t=e.replace(/(\.\/|\.js)/g,"");n[t]={namespaced:!0,...s(e).default}}),t["default"]=n},6467:function(e,t,a){},"689a":function(e,t,a){"use strict";var s=a("5126"),n=a.n(s);n.a},"6dc5":function(e,t,a){"use strict";var s=a("51f0"),n=a.n(s);n.a},"72ab":function(e,t,a){"use strict";var s=a("8071"),n=a.n(s);n.a},7461:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("i",e._g({staticClass:"material-icons icon"},e.$listeners),[e._t("default")],2)},n=[],i={name:"base-icon"},o=i,r=(a("ab11"),a("2877")),c=Object(r["a"])(o,s,n,!1,null,"28001614",null);c.options.__file="BaseIcon.vue";t["default"]=c.exports},7610:function(e,t,a){"use strict";a.r(t);var s=a("41cb"),n=a("bc3a"),i=a.n(n);const o=i.a.create({baseURL:"//localhost:5000/api/vaults/",timeout:3e3,withCredentials:!0});t["default"]={state:{vaults:[]},mutations:{setVaults(e,t){e.vaults=t},setVaultKeeps(e,{id:t,keeps:a}){e.vaults.find(e=>e.id===t).keeps=a},editVault(e,t){const a=e.vaults.find(e=>e.id===t.id);a.name=t.name,a.description=t.description}},actions:{async getVaults({commit:e,rootState:t,dispatch:a}){if(t.auth.user.id)try{const{data:t}=await o.get("");t.forEach(e=>e.keeps=[]),e("setVaults",t),t.forEach(e=>a("getKeepsOnVault",e.id))}catch(e){console.log(e)}},async fetchKeepsOnVault({commit:e,state:t,rootState:a},s){if(a.auth.user.id)try{const{data:e}=await o.get(`keeps/${s}`);return e}catch(e){console.log(e)}},async getKeepsOnVault({commit:e,state:t,rootState:a,dispatch:s},n){const i=await s("fetchKeepsOnVault",n);i&&e("setVaultKeeps",{id:n,keeps:i})},async getVaultById({commit:e,state:t,rootState:a,dispatch:n},i){if(a.auth.user.id)try{const{data:e}=await o.get(`${i}`);return e||void s["a"].push({name:"dashboard"})}catch(e){console.log(e)}},async createVault({commit:e,state:t,rootState:a,dispatch:n},i){if(a.auth.user.id)try{const a=await o.post("",i);i=a.data,i.keeps=[];const r=[i,...t.vaults];e("setVaults",r),n("getKeepsOnVault",i.id),s["a"].push({name:"dashboard"})}catch(e){console.log(e)}},async deleteVault({commit:e,state:t,rootState:a},s){if(a.auth.user.id)try{const{data:a}=await o.delete(`${s}`);if(!a)return;const n=t.vaults.filter(e=>e.id!==s);e("setVaults",n)}catch(e){console.log(e)}},async editVault({commit:e,state:t,rootState:a},s){if(a.auth.user.id)try{const{data:t}=await o.put("",s);e("editVault",s)}catch(e){console.log(e)}}}}},"7e3d":function(e,t,a){"use strict";a.r(t);var s=a("41cb"),n=a("bc3a"),i=a.n(n);const o=i.a.create({baseURL:"//localhost:5000/api/keeps/",timeout:3e3,withCredentials:!0});t["default"]={state:{keeps:[],myKeeps:[],loading:!1,intialLoad:!0},getters:{filterByName:e=>t=>e.keeps.filter(e=>-1!==e.name.indexOf(t))},mutations:{setKeeps(e,t){e.keeps=t},setLoading(e,t){e.loading=t},setInitialLoad(e,t){e.initialLoad=t},editKeep(e,t){const a=e.keeps.find(e=>e.id===t.id);a.name=t.name,a.description=t.description,a.img=t.img,a.isPrivate=t.isPrivate,a.views=t.views,a.shares=t.shares},setMyKeeps(e,t){e.myKeeps=t}},actions:{loadImages(e,t){return Promise.all(t.map(e=>new Promise((t,a)=>{const s=new Image;s.onload=t,s.onerror=a,s.src=e.img})))},async getKeeps({commit:e,dispatch:t}){e("setLoading",!0);try{const{data:a}=await o.get("");e("setKeeps",a),await t("loadImages",a)}catch(e){console.log(e)}e("setLoading",!1),e("setInitialLoad",!1)},async getKeep(e,t){try{const{data:e}=await o.get(`${t}`);return e}catch(e){return console.log(e),!1}},async shareKeep(e,t){try{const{data:e}=await o.get(`share/${t}`);return e}catch(e){return void console.log(e)}},async searchKeeps({commit:e,dispatch:t},a){e("setLoading",!0);try{const{data:s}=await o.get(`searchByName/?name=${a}`);e("setKeeps",s),await t("loadIamges",s)}catch(e){console.log(e)}e("setLoading",!1),e("setInitialLoad",!1)},async createKeep({commit:e,state:t,rootState:a},n){if(a.auth.user.id)try{const a=await o.post("",n);n=a.data;const i=[n,...t.keeps];e("setKeeps",i),s["a"].push({name:"home"})}catch(e){console.log(e)}},async deleteKeep({commit:e,state:t,rootState:a},s){if(a.auth.user.id)try{const{data:a}=await o.delete(`${s}`);if(!a)return;const n=t.keeps.filter(e=>e.id!==s);e("setKeeps",n)}catch(e){console.log(e)}},async editKeep({commit:e,rootState:t},a){if(t.auth.user.id)try{const{data:t}=await o.put("",a);return!!t&&(e("editKeep",a),!0)}catch(e){return console.log(e),!1}},async getMyKeeps({commit:e,rootState:t}){if(t.auth.user.id)try{const{data:a}=await o.get(`byUserId/${t.auth.user.id}`);e("setMyKeeps",a)}catch(e){console.log(e)}},async addKeepToVault({commit:e,rootState:t,dispatch:a},s){if(t.auth.user.id)try{const{data:e}=await o.post("storeInVault",s)}catch(e){console.log(e)}},async removeKeepFromVault({commit:e,rootState:t,dispatch:a},s){if(t.auth.user.id)try{const{data:e}=await o.delete(`removeFromVault/${s}`)}catch(e){console.log(e)}}}}},8071:function(e,t,a){},"821f":function(e,t,a){},"82ea":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",e._g({staticClass:"base-button"},e.listeners),[e._t("default")],2)},n=[],i={name:"base-button",props:{to:[Object,String]},computed:{listeners(){const e={...this.$listeners};if(this.$props.to){const t=this.$router;e["click"]=(()=>t.push(this.$props.to))}return e}}},o=i,r=(a("44a9"),a("2877")),c=Object(r["a"])(o,s,n,!1,null,"423af298",null);c.options.__file="BaseButton.vue";t["default"]=c.exports},8947:function(e,t,a){},"971c":function(e,t,a){var s={"./auth.js":"e7b1","./index.js":"6211","./keeps.js":"7e3d","./vaults.js":"7610"};function n(e){var t=i(e);return a(t)}function i(e){var t=s[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}n.keys=function(){return Object.keys(s)},n.resolve=i,e.exports=n,n.id="971c"},"9a61":function(e,t,a){"use strict";var s=a("f941"),n=a.n(s);n.a},"9ee3":function(e,t,a){"use strict";var s=a("be14"),n=a.n(s);n.a},a42b:function(e,t,a){},a866:function(e,t,a){},ab11:function(e,t,a){"use strict";var s=a("821f"),n=a.n(s);n.a},b186:function(e,t,a){"use strict";var s=a("b29c"),n=a.n(s);n.a},b29c:function(e,t,a){},b3b3:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"input"},[e.label?a("span",[e._v(e._s(e.label))]):e._e(),a("input",e._g(e._b({},"input",e.$attrs,!1),e.listeners))])},n=[],i=a("b012"),o={name:"base-input",inheritAttrs:!1,props:{label:String,value:[String,Number],debounce:{type:Number,default:0}},computed:{listeners:function(){return{...this.$listeners,input:Object(i["debounce"])(e=>this.$emit("input",e.target.value),this.$props.debounce)}},attrs:function(){let e={...this.$attrs};return this.$props.value&&(e[value]=this.$props.value),e}}},r=o,c=(a("689a"),a("2877")),l=Object(c["a"])(r,s,n,!1,null,"c9edfcbe",null);l.options.__file="BaseInput.vue";t["default"]=l.exports},b9b4:function(e,t,a){"use strict";var s=a("8947"),n=a.n(s);n.a},be14:function(e,t,a){},c02f:function(e,t,a){"use strict";var s=a("cfb7"),n=a.n(s);n.a},c0d6:function(e,t,a){"use strict";var s=a("2b0e"),n=a("2f62"),i=a("6211");s["a"].use(n["a"]);const o=new n["a"].Store({modules:i["default"]});t["a"]=o},c314:function(e,t,a){},c45d:function(e,t,a){"use strict";var s=a("2609"),n=a.n(s);n.a},ce12:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("base-card",{staticClass:"skeleton-card"},[a("div",{staticClass:"img",attrs:{slot:"image"},slot:"image"}),a("template",{slot:"content"},[a("p",{staticClass:"title skeleton"}),a("p",{staticClass:"paragraph skeleton"})])],2)},n=[],i={name:"base-card-skeleton"},o=i,r=(a("eb1c"),a("2877")),c=Object(r["a"])(o,s,n,!1,null,"4314861c",null);c.options.__file="BaseCardSkeleton.vue";t["default"]=c.exports},cfb7:function(e,t,a){},d2fe:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"skeleton input-skeleton"})},n=[],i={name:"base-input-skeleton"},o=i,r=(a("1ade"),a("2877")),c=Object(r["a"])(o,s,n,!1,null,"0fefe548",null);c.options.__file="BaseInputSkeleton.vue";t["default"]=c.exports},e7b1:function(e,t,a){"use strict";a.r(t);var s=a("bc3a"),n=a.n(s),i=a("41cb");const o=n.a.create({baseURL:"//localhost:5000/account/",timeout:3e3,withCredentials:!0}),r=n.a.create({baseURL:"//localhost:5000/account/authenticate",timeout:1e3,withCredentials:!0});t["default"]={state:{user:{}},mutations:{setUser(e,t){e.user=t}},actions:{error(e,t){console.log(t)},async authenticate({commit:e,dispatch:t}){try{const{data:t}=await r.get("");e("setUser",t)}catch(e){}},async register({commit:e,dispatch:t},a){try{const{data:t}=await o.post("register",a);e("setUser",t)}catch(e){}},async login({commit:e,dispatch:t},a){try{const{data:s}=await o.post("login",a);e("setUser",s),i["a"].push(i["a"].currentRoute.query.redirect||"/")}catch(e){t("error",e)}},async logout({commit:e,dispatch:t}){try{await o.delete("logout",creds),i["a"].push({name:"home"})}catch(e){t("error",e)}}}}},eb1c:function(e,t,a){"use strict";var s=a("4d98"),n=a.n(s);n.a},ef13:function(e,t,a){var s={"./BaseButton.vue":"82ea","./BaseCard.vue":"ff7d","./BaseCardSkeleton.vue":"ce12","./BaseIcon.vue":"7461","./BaseInput.vue":"b3b3","./BaseInputSkeleton.vue":"d2fe"};function n(e){var t=i(e);return a(t)}function i(e){var t=s[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}n.keys=function(){return Object.keys(s)},n.resolve=i,e.exports=n,n.id="ef13"},efbf:function(e,t,a){},f941:function(e,t,a){},ff7d:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._g(e._b({staticClass:"card"},"div",e.$attrs,!1),e.$listeners),[a("section",{staticClass:"image"},[e._t("image")],2),a("section",{staticClass:"content"},[e._t("content")],2),a("section",{staticClass:"actions"},[e._t("actions")],2),e._t("default")],2)},n=[],i={name:"base-card"},o=i,r=(a("b9b4"),a("2877")),c=Object(r["a"])(o,s,n,!1,null,"0e7b3262",null);c.options.__file="BaseCard.vue";t["default"]=c.exports}});
//# sourceMappingURL=app.66cb931d.js.map