(function(e){function t(t){for(var n,o,i=t[0],c=t[1],u=t[2],d=0,p=[];d<i.length;d++)o=i[d],s[o]&&p.push(s[o][0]),s[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(p.length)p.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,i=1;i<a.length;i++){var c=a[i];0!==s[c]&&(n=!1)}n&&(r.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},s={app:0},r=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"1d41":function(e,t,a){"use strict";var n=a("776d"),s=a.n(n);s.a},"41cb":function(e,t,a){"use strict";var n=a("2b0e"),s=a("8c4f"),r=a("c0d6"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page login"},[a("form",{staticClass:"login__form",on:{submit:function(t){t.preventDefault(),e.loginForm?e.loginUser(t):e.registerUser(t)}}},[e._m(0),a("transition",{attrs:{name:"max-height"}},[e.loginForm?e._e():a("base-input",{attrs:{required:"",type:"text",label:"Name",placeholder:"Chris"},model:{value:e.creds.name,callback:function(t){e.$set(e.creds,"name",t)},expression:"creds.name"}})],1),a("base-input",{attrs:{required:"",type:"email",label:"Email",placeholder:"example@example.com"},model:{value:e.creds.email,callback:function(t){e.$set(e.creds,"email",t)},expression:"creds.email"}}),a("base-input",{attrs:{required:"",type:"password",label:"Password",placeholder:"**********"},model:{value:e.creds.password,callback:function(t){e.$set(e.creds,"password",t)},expression:"creds.password"}}),a("div",{staticClass:"actions"},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[e.loginForm?a("base-button",{attrs:{type:"submit"}},[e._v("Login")]):a("base-button",{attrs:{type:"submit"}},[e._v("Signup")])],1),a("base-button",{staticStyle:{border:"none","box-shadow":"none !important"},attrs:{type:"button"},domProps:{textContent:e._s(e.loginForm?"or signup":"or login")},on:{click:function(t){e.loginForm=!e.loginForm}}})],1)],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h2",{staticStyle:{"font-weight":"400","margin-bottom":"1rem"},attrs:{align:"center"}},[e._v("\n      Welcome to "),a("span",{staticStyle:{"font-weight":"bold",color:"var(--theme-primary)","text-decoration":"underline"}},[e._v("Keepr")])])}],c=a("2f62"),u={name:"Login",data(){return{loginForm:!0,creds:{email:"",password:"",name:""}}},methods:{...Object(c["b"])("auth",["login","register"]),registerUser(){this.register({email:this.creds.email,password:this.creds.password,name:this.creds.name})},loginUser(){this.login({email:this.creds.email,password:this.creds.password})}}},l=u,d=(a("4730"),a("2877")),p=Object(d["a"])(l,o,i,!1,null,"4129f041",null);p.options.__file="Login.vue";var f=p.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page home"},[a("base-input",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"search",attrs:{placeholder:"ðŸ”Ž Search",debounce:500},on:{input:e.search}}),e.loading?a("base-input-skeleton",{staticClass:"search"}):e._e(),a("section",{staticClass:"keeps"},[a("transition-group",{attrs:{name:"keep-list-item"}},[e._l(e.keeps,function(t){return e.loading?e._e():a("keep-card",e._b({key:t.id,staticClass:"keep-list-item"},"keep-card",t,!1))}),e._l(10,function(t){return e.loading?a("base-card-skeleton",{key:t}):e._e()})],2)],1)],1)},h=[],b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("base-card",e._g({staticClass:"keep-card"},e.$listeners),[a("img",{attrs:{slot:"image",src:e.img},slot:"image"}),a("template",{slot:"content"},[a("p",{staticClass:"title"},[e._v(e._s(e.name))]),a("p",{staticClass:"paragraph"},[e._v(e._s(e._f("truncate")(e.description,50)))])]),a("template",{slot:"actions"},[a("p",[e._v("Views: "+e._s(e.views))]),a("p",[e._v("Shares: "+e._s(e.shares))])])],2)},v=[],g={name:"keep-card",props:{id:{type:Number,required:!0},name:{type:String,required:!0},description:{type:String,required:!0},userId:{type:String,required:!0},img:{type:String,required:!0},views:{type:Number,required:!0},shares:{type:Number,required:!0}}},_=g,y=(a("a247"),Object(d["a"])(_,b,v,!1,null,"526e837c",null));y.options.__file="KeepCard.vue";var w=y.exports,k={name:"Home",methods:{...Object(c["b"])("keeps",["getKeeps","searchKeeps"]),search(e){e=e.trim(),e?this.searchKeeps(e):this.getKeeps()}},computed:{...Object(c["c"])("keeps",["keeps","loading"])},mounted(){this.keeps.length||this.getKeeps()},components:{KeepCard:w}},$=k,C=(a("ce2e"),Object(d["a"])($,m,h,!1,null,"5e326e34",null));C.options.__file="Home.vue";var O=C.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},j=[],S={name:"Dashboard"},E=S,B=(a("1d41"),Object(d["a"])(E,x,j,!1,null,"a79a202c",null));B.options.__file="Dashboard.vue";var U=B.exports;n["a"].use(s["a"]);const q=new s["a"]({routes:[{path:"/",name:"home",component:O},{path:"/login",name:"login",component:f},{path:"/dashboard",name:"dashboard",component:U,meta:{requiresAuth:!0}}]});q.beforeEach((e,t,a)=>{r["a"].getters["auth/loggedIn"]||r["a"].dispatch("auth/authenticate").then(()=>{a()}),e.matched.some(e=>e.meta.requiresAuth)?r["a"].state.auth.user.id?a():a({path:"/login",query:{redirect:e.fullPath}}):a()});t["a"]=q},4730:function(e,t,a){"use strict";var n=a("9884"),s=a.n(n);s.a},"4a95":function(e,t,a){},"4d98":function(e,t,a){},5126:function(e,t,a){},"559e":function(e,t,a){"use strict";var n=a("aaea"),s=a.n(n);s.a},"56d7":function(e,t,a){"use strict";a.r(t);var n=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("nav",{attrs:{id:"main-nav"}},e._l(e.tabs,function(t,n){return a("base-icon",{key:n,class:{active:t.routes.includes(e.$router.currentRoute.name)},on:{click:function(a){e.$router.push({name:e.$store.state.auth.user.id?t.routes[t.routes.length-1]:t.routes[0]})}}},[e._v("\n      "+e._s(t.icon)+"\n    ")])})),a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1)},r=[],o={data(){return{tabs:[{routes:["login","account"],icon:"person"},{routes:["home"],icon:"home"},{routes:["dashboard"],icon:"dashboard"}]}}},i=o,c=(a("e0ee"),a("5c64"),a("2877")),u=Object(c["a"])(i,s,r,!1,null,"25ad9bca",null);u.options.__file="App.vue";var l=u.exports,d=a("c0d6"),p=a("41cb");n["a"].config.productionTip=!1;const f=a("ef13");f.keys().forEach(e=>{const t=f(e),a=e.replace(/^\.\/(.*)\.\w+$/,"$1");n["a"].component(a,t.default||t)}),n["a"].filter("truncate",(e,t)=>e.length>t?e.slice(0,t).trim()+"...":e),new n["a"]({router:p["a"],store:d["a"],render:e=>e(l)}).$mount("#app")},"5c64":function(e,t,a){"use strict";var n=a("9f02"),s=a.n(n);s.a},6211:function(e,t,a){"use strict";a.r(t);const n=a("971c"),s={};n.keys().forEach(e=>{if("./index.js"===e)return;const t=e.replace(/(\.\/|\.js)/g,"");s[t]={namespaced:!0,...n(e).default}}),t["default"]=s},"689a":function(e,t,a){"use strict";var n=a("5126"),s=a.n(n);s.a},7461:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("i",e._g({staticClass:"material-icons icon"},e.$listeners),[e._t("default")],2)},s=[],r={name:"base-icon"},o=r,i=(a("ab11"),a("2877")),c=Object(i["a"])(o,n,s,!1,null,"28001614",null);c.options.__file="BaseIcon.vue";t["default"]=c.exports},"776d":function(e,t,a){},"7e3d":function(e,t,a){"use strict";a.r(t);var n=a("bc3a"),s=a.n(n);let r=s.a.create({baseURL:"//localhost:5000/api/keeps/",timeout:3e3,withCredentials:!0});t["default"]={state:{keeps:[],loading:!1},getters:{filterByName:e=>t=>e.keeps.filter(e=>-1!==e.name.indexOf(t))},mutations:{setKeeps(e,t){e.keeps=t},setLoading(e,t){e.loading=t}},actions:{loadImages(e,t){return Promise.all(t.map(e=>new Promise((t,a)=>{const n=new Image;n.onload=t,n.onerror=a,n.src=e.img})))},async getKeeps({commit:e,dispatch:t}){e("setLoading",!0);try{const{data:a}=await r.get("");e("setKeeps",a),await t("loadImages",a)}catch(e){console.log(e)}e("setLoading",!1)},async searchKeeps({commit:e},t){e("setLoading",!0);try{const{data:a}=await r.get(`searchByName/?name=${t}`);e("setKeeps",a),await dispatch("loadIamges",a)}catch(e){console.log(e)}e("setLoading",!1)}}}},"821f":function(e,t,a){},"82ea":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",e._g(e._b({staticClass:"base-button"},"button",e.$attrs,!1),e.listeners),[e._t("default")],2)},s=[],r={name:"base-button",props:{to:[Object,String]},computed:{listeners(){const e={...this.$listeners};if(this.$props.to){const t=this.$router;e["click"]=(()=>t.push(this.$props.to))}return e}}},o=r,i=(a("c353"),a("2877")),c=Object(i["a"])(o,n,s,!1,null,"c80f4b02",null);c.options.__file="BaseButton.vue";t["default"]=c.exports},"8ac0":function(e,t,a){"use strict";var n=a("f51c"),s=a.n(n);s.a},"95dd":function(e,t,a){},"971c":function(e,t,a){var n={"./auth.js":"e7b1","./index.js":"6211","./keeps.js":"7e3d"};function s(e){var t=r(e);return a(t)}function r(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id="971c"},9884:function(e,t,a){},"9f02":function(e,t,a){},a247:function(e,t,a){"use strict";var n=a("bbcf"),s=a.n(n);s.a},aa56:function(e,t,a){},aaea:function(e,t,a){},ab11:function(e,t,a){"use strict";var n=a("821f"),s=a.n(n);s.a},b3b3:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"input"},[e.label?a("span",[e._v(e._s(e.label))]):e._e(),a("input",e._g(e._b({},"input",e.$attrs,!1),e.listeners))])},s=[],r=a("b012"),o={name:"base-input",inheritAttrs:!1,props:{label:String,value:[String,Number],debounce:{type:Number,default:0}},computed:{listeners:function(){return{...this.$listeners,input:Object(r["debounce"])(e=>this.$emit("input",e.target.value),this.$props.debounce)}},attrs:function(){let e={...this.$attrs};return this.$props.value&&(e[value]=this.$props.value),e}}},i=o,c=(a("689a"),a("2877")),u=Object(c["a"])(i,n,s,!1,null,"c9edfcbe",null);u.options.__file="BaseInput.vue";t["default"]=u.exports},bbcf:function(e,t,a){},c0d6:function(e,t,a){"use strict";var n=a("2b0e"),s=a("2f62"),r=a("6211");n["a"].use(s["a"]);const o=new s["a"].Store({modules:r["default"]});t["a"]=o},c353:function(e,t,a){"use strict";var n=a("95dd"),s=a.n(n);s.a},ce12:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("base-card",{staticClass:"skeleton-card"},[a("div",{staticClass:"img",attrs:{slot:"image"},slot:"image"}),a("template",{slot:"content"},[a("p",{staticClass:"title skeleton"}),a("p",{staticClass:"paragraph skeleton"})])],2)},s=[],r={name:"base-card-skeleton"},o=r,i=(a("eb1c"),a("2877")),c=Object(i["a"])(o,n,s,!1,null,"4314861c",null);c.options.__file="BaseCardSkeleton.vue";t["default"]=c.exports},ce2e:function(e,t,a){"use strict";var n=a("aa56"),s=a.n(n);s.a},d2fe:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"skeleton input-skeleton"})},s=[],r={name:"base-input-skeleton"},o=r,i=(a("559e"),a("2877")),c=Object(i["a"])(o,n,s,!1,null,"102af4fa",null);c.options.__file="BaseInputSkeleton.vue";t["default"]=c.exports},e0ee:function(e,t,a){"use strict";var n=a("4a95"),s=a.n(n);s.a},e7b1:function(e,t,a){"use strict";a.r(t);var n=a("bc3a"),s=a.n(n),r=a("41cb");const o=s.a.create({baseURL:"//localhost:5000/account/",timeout:3e3,withCredentials:!0}),i=s.a.create({baseURL:"//localhost:5000/account/authenticate",timeout:1e3,withCredentials:!0});t["default"]={state:{user:{}},mutations:{setUser(e,t){e.user=t}},actions:{error(e,t){console.log(t)},async authenticate({commit:e,dispatch:t}){try{const{data:t}=await i.get("");e("setUser",t)}catch(e){}},async register({commit:e,dispatch:t},a){try{const{data:t}=await o.post("register",a);e("setUser",t)}catch(e){}},async login({commit:e,dispatch:t},a){try{const{data:n}=await o.post("login",a);e("setUser",n),r["a"].push(r["a"].currentRoute.query.redirect||"/")}catch(e){t("error",e)}},async logout({commit:e,dispatch:t}){try{await o.delete("logout",creds),r["a"].push({name:"home"})}catch(e){t("error",e)}}}}},eb1c:function(e,t,a){"use strict";var n=a("4d98"),s=a.n(n);s.a},ef13:function(e,t,a){var n={"./BaseButton.vue":"82ea","./BaseCard.vue":"ff7d","./BaseCardSkeleton.vue":"ce12","./BaseIcon.vue":"7461","./BaseInput.vue":"b3b3","./BaseInputSkeleton.vue":"d2fe"};function s(e){var t=r(e);return a(t)}function r(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id="ef13"},f51c:function(e,t,a){},ff7d:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._g(e._b({staticClass:"card"},"div",e.$attrs,!1),e.$listeners),[a("section",{staticClass:"image"},[e._t("image")],2),a("section",{staticClass:"content"},[e._t("content")],2),a("section",{staticClass:"actions"},[e._t("action")],2)])},s=[],r={name:"base-card"},o=r,i=(a("8ac0"),a("2877")),c=Object(i["a"])(o,n,s,!1,null,"2c4959e2",null);c.options.__file="BaseCard.vue";t["default"]=c.exports}});
//# sourceMappingURL=app.0fe8f6be.js.map